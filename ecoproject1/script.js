const translations = {
    en: {
        page_title: "Climate Bulletin of Kyrgyzstan",
        nav_brand: "Climate Bulletin",
        nav_global: "Global Climate",
        nav_asia: "Asia",
        nav_kyrgyzstan: "Kyrgyzstan",
        nav_data: "Climate Data",
        language: "Language",
        hero_title: "Climate Change in Kyrgyzstan",
        stat_global_temp_title: "Global Temperature",
        stat_global_temp_value: "+1.45°C above pre-industrial levels",
        stat_kyrgyzstan_temp_title: "Temperature in Kyrgyzstan",
        stat_kyrgyzstan_temp_value: "+1.94°C above normal",
        stat_temp_increase_rate_title: "Temperature Increase Rate",
        stat_temp_increase_rate_value: "0.28°C per decade",
        global_section_title: "Global Climate Overview",
        key_points_title: "Key Points",
        global_point_1: "The warmest year on record",
        global_point_2: "The hottest months ever recorded",
        global_point_3: "Ocean surface temperatures reached record highs",
        asia_section_title: "Asia Climate Overview",
        asia_point_1: "The second warmest year on record for Asia",
        asia_point_2: "Temperatures above 40°C in China",
        asia_point_3: "Record heatwaves in several countries",
        kyrgyzstan_section_title: "Kyrgyzstan Climate Overview",
        kyrgyzstan_key_points_title: "Key Points",
        kyrgyzstan_point_1: "Global temperature was 1.45 ± 0.12°C above pre-industrial levels (1850-1900)",
        kyrgyzstan_point_2: "Sea surface temperature reached record highs since the late spring of the Northern Hemisphere",
        kyrgyzstan_point_3: "The rate of sea level rise is more than double the rate of 1993-2002",
        kyrgyzstan_point_4: "Antarctic sea ice extent reached an absolute record low for the satellite era",
        kyrgyzstan_point_5: "Glaciers in western North America and the European Alps experienced an extreme melting season",
        kyrgyzstan_point_6: "Heatwaves, floods, and wildfires caused significant economic losses",
        climate_factors_title: "Climate-Forming Factors",
        climate_factors_text: "Since ancient times, scientists have divided the Earth into climatic zones depending on the height of the sun above the horizon and the length of the day. The word 'climate' itself, translated from Greek, means the inclination of the Sun. Indeed, climatic differences on our planet are primarily due to the fact that heat from the Sun is distributed unevenly across the Earth's surface. The proximity of the sea, atmospheric circulation, precipitation patterns, and other so-called 'climate-forming factors' also have a great influence on the characteristics of the climate. They, in turn, strongly depend on geographical conditions, primarily on geographical latitude, as well as altitude above sea level.",
        data_section_title: "Climate Data and Indicators",
        temp_trends_title: "Temperature Trends",
        temp_trends_spring: "Spring: +0.59°C/decade - fastest warming",
        temp_trends_winter: "Winter: +0.21°C/decade - second fastest",
        temp_trends_summer: "Summer: +0.15°C/decade - most pronounced in Talas and Issyk-Kul regions",
        temp_trends_autumn: "Autumn: +0.24°C/decade - maximum increase in Naryn region",
        temp_trends_min_growth: "Minimum temperature increase observed in August and November",
        precipitation_title: "Precipitation",
        precipitation_annual: "Annual increase: ~4mm/decade",
        precipitation_winter: "Winter increase: 3.6mm/decade",
        precipitation_seasonal_distribution: "Seasonal precipitation distribution:",
        precipitation_seasonal_winter: "Slight increase in winter",
        precipitation_seasonal_spring_summer: "Reduction in spring and summer",
        precipitation_jalal_abad: "In Jalal-Abad region, the annual precipitation trend was over 20 mm/10 years",
        precipitation_bazar_korgon: "In Bazar-Korgon district, 831 mm of precipitation fell (77% of the annual norm)",
        climate_indices_title: "Climate Indices",
        climate_indices_frost: "Decrease in the number of frost days",
        climate_indices_vegetation: "Increase in the length of the growing season",
        climate_indices_heat: "Increase in the number of heat days",
        footer_text: " 2025 Climate Bulletin. Data from Kyrgyzhydromet."
    },
    ru: {
        page_title: "Бюллетень о климате Кыргызстана",
        nav_brand: "Бюллетень о климате",
        nav_global: "Глобальный климат",
        nav_asia: "Азия",
        nav_kyrgyzstan: "Кыргызстан",
        nav_data: "Климатические данные",
        language: "Язык",
        hero_title: "КЛИМАТИЧЕСКИЕ ИЗМЕНЕНИЯ В КЫРГЫЗСТАНЕ",
        stat_global_temp_title: "Глобальная температура",
        stat_global_temp_value: "+1.45°C выше доиндустриального уровня",
        stat_kyrgyzstan_temp_title: "Температура в Кыргызстане",
        stat_kyrgyzstan_temp_value: "+1.94°C выше нормы",
        stat_temp_increase_rate_title: "Скорость повышения температуры",
        stat_temp_increase_rate_value: "0.28°C за десятилетие",
        global_section_title: "Обзор глобального климата",
        key_points_title: "Ключевые моменты",
        global_point_1: "Самый теплый год в истории наблюдений",
        global_point_2: "Самые жаркие месяцы за всю историю наблюдений",
        global_point_3: "Температура поверхности океана достигла рекордных значений",
        asia_section_title: "Обзор климата Азии",
        asia_point_1: "Второй по теплоте год в истории наблюдений для Азии",
        asia_point_2: "Температуры выше 40°C в Китае",
        asia_point_3: "Рекордные жаркие волны в нескольких странах",
        kyrgyzstan_section_title: "Обзор климата Кыргызстана",
        kyrgyzstan_key_points_title: "Ключевые моменты",
        kyrgyzstan_point_1: "Глобальная температура была на 1,45 ± 0,12°C выше температуры доиндустриального уровня (1850-1900 гг.)",
        kyrgyzstan_point_2: "Температура поверхности моря достигла рекордно высоких значений с конца весны Северного полушария",
        kyrgyzstan_point_3: "Скорость повышения уровня моря более чем в два раза превышает темпы 1993-2002 гг.",
        kyrgyzstan_point_4: "Протяженность морского льда в Антарктике достигла абсолютного рекордно низкого уровня для эры спутников",
        kyrgyzstan_point_5: "Ледники на западе Северной Америки и в европейских Альпах пережили экстремальный сезон таяния",
        kyrgyzstan_point_6: "Волны жары, наводнения и лесные пожары вызвали значительные экономические потери",
        climate_factors_title: "Климатообразующие факторы",
        climate_factors_text: "Древних времен учёные делили Землю на климатические пояса в зависимости от высоты солнца над горизонтом и длины дня. Само слово «климат» в переводе с греческого языка означает наклон Солнца. Действительно, климатические различия на нашей планете связаны в первую очередь с тем, что тепло от Солнца распределяется по поверхности Земли неравномерно. Также большое влияние на особенности климата оказывает близость моря, циркуляция атмосферы, режим выпадения осадков и другие так называемые «климатообразующие факторы». Они, в свою очередь, сильно зависят от географических условий, прежде всего от географической широты, а также высоты над уровнем моря.",
        data_section_title: "Климатические данные и индикаторы",
        temp_trends_title: "Тренды температуры",
        temp_trends_spring: "Весна: +0.59°C/десятилетие - самое быстрое потепление",
        temp_trends_winter: "Зима: +0.21°C/десятилетие - второе место по интенсивности",
        temp_trends_summer: "Лето: +0.15°C/десятилетие - наиболее выражено в Таласской и Иссык-Кульской областях",
        temp_trends_autumn: "Осень: +0.24°C/десятилетие - максимальный рост в Нарынской области",
        temp_trends_min_growth: "Минимальный рост температуры наблюдается в августе и ноябре",
        precipitation_title: "Осадки",
        precipitation_annual: "Ежегодный прирост: ~4мм/десятилетие",
        precipitation_winter: "Зимний прирост: 3.6мм/десятилетие",
        precipitation_seasonal_distribution: "Сезонное распределение осадков:",
        precipitation_seasonal_winter: "Небольшое увеличение в зимний период",
        precipitation_seasonal_spring_summer: "Сокращение весной и летом",
        precipitation_jalal_abad: "В Жалал-Абадской области годовой тренд осадков составил более 20 мм/10 лет",
        precipitation_bazar_korgon: "В Базар-Коргонском районе выпало 831 мм осадков (77% от годовой нормы)",
        climate_indices_title: "Климатические индексы",
        climate_indices_frost: "Уменьшение числа дней с морозами",
        climate_indices_vegetation: "Увеличение продолжительности вегетационного периода",
        climate_indices_heat: "Увеличение числа дней с жарой",
        footer_text: " 2025 Бюллетень о климате. Данные от Кыргызгидромета и Климатической шкатулки."
    },
    ky: {
        page_title: "Кыргызстандын климаты боюнча бюллетень",
        nav_brand: "Климат бюллетени",
        nav_global: "Дүйнөлүк климат",
        nav_asia: "Азия",
        nav_kyrgyzstan: "Кыргызстан",
        nav_data: "Климат маалыматтары",
        language: "Тил",
        hero_title: "Кыргызстандагы климаттын өзгөрүшү",
        stat_global_temp_title: "Дүйнөлүк температура",
        stat_global_temp_value: "+1.45°C өнөр жайга чейинки деңгээлден жогору",
        stat_kyrgyzstan_temp_title: "Кыргызстандагы температура",
        stat_kyrgyzstan_temp_value: "+1.94°C нормадан жогору",
        stat_temp_increase_rate_title: "Температуранын жогорулоо ылдамдыгы",
        stat_temp_increase_rate_value: "он жылдыкта 0.28°C",
        global_section_title: "Дүйнөлүк климатка сереп",
        key_points_title: "Негизги учурлар",
        global_point_1: "2023-жыл тарыхтагы эң жылуу жыл болду",
        global_point_2: "Июль жана август айлары эң ысык айлар болду",
        global_point_3: "Океандын үстүңкү температурасы рекорддук чекке жетти",
        asia_section_title: "Азиянын климатына сереп",
        asia_point_1: "2023-жыл Азия үчүн тарыхтагы экинчи эң жылуу жыл болду",
        asia_point_2: "Кытайда температура 40°Cдан жогору болду",
        asia_point_3: "Бир нече өлкөдө рекорддук ысык толкундар",
        kyrgyzstan_section_title: "Кыргызстандын климатына сереп",
        kyrgyzstan_key_points_title: "Негизги учурлар",
        kyrgyzstan_point_1: "2023-жылы дүйнөлүк температура өнөр жайга чейинки деңгээлден (1850-1900 жж.) 1,45 ± 0,12°C жогору болду",
        kyrgyzstan_point_2: "Деңиздин үстүңкү температурасы Түндүк жарым шардын жазынын аягынан бери рекорддук жогорку чекке жетти",
        kyrgyzstan_point_3: "2013-2022-жылдардагы деңиз деңгээлинин көтөрүлүү ылдамдыгы 1993-2002-жылдардагыдан эки эседен ашык",
        kyrgyzstan_point_4: "Антарктикадагы деңиз музунун аянты спутник доору үчүн абсолюттук рекорддук төмөн деңгээлге жетти",
        kyrgyzstan_point_5: "Түндүк Американын батышындагы жана Европанын Альпы тоолорундагы мөңгүлөр катуу эрүү мезгилин башынан өткөрдү",
        kyrgyzstan_point_6: "Ысык толкундар, суу ташкындары жана токой өрттөрү олуттуу экономикалык жоготууларга алып келди",
        climate_factors_title: "Климатты түзүүчү факторлор",
        climate_factors_text: "Байыркы доорлордон бери окумуштуулар Жерди күндүн горизонттон бийиктигине жана күндүн узактыгына жараша климаттык алкактарга бөлүп келишкен. «Климат» деген сөздүн өзү грек тилинен которгондо Күндүн жантайышын билдирет. Чынында эле, биздин планетадагы климаттык айырмачылыктар, биринчи кезекте, Күндөн келген жылуулуктун Жердин бетине бир калыпта эмес бөлүштүрүлүшүнө байланыштуу. Ошондой эле климаттын өзгөчөлүктөрүнө деңиздин жакындыгы, атмосфералык циркуляция, жаан-чачындын режими жана башка «климатты түзүүчү факторлор» чоң таасир этет. Алар, өз кезегинде, географиялык шарттарга, биринчи кезекте географиялык кеңдикке, ошондой эле деңиз деңгээлинен бийиктикке катуу көз каранды.",
        data_section_title: "Климаттык маалыматтар жана индикаторлор",
        temp_trends_title: "Температура тренддери",
        temp_trends_spring: "Жаз: +0.59°C/он жылдыкта - эң тез жылуулоо",
        temp_trends_winter: "Кыш: +0.21°C/он жылдыкта - экинчи орунда",
        temp_trends_summer: "Жай: +0.15°C/он жылдыкта - Талас жана Ысык-Көл облустарында эң байкаларлык",
        temp_trends_autumn: "Күз: +0.24°C/он жылдыкта - Нарын облусунда максималдуу өсүш",
        temp_trends_min_growth: "Температуранын минималдуу өсүшү август жана ноябрь айларында байкалат",
        precipitation_title: "Жаан-чачын",
        precipitation_annual: "Жылдык өсүш: ~4мм/он жылдыкта",
        precipitation_winter: "Кышкы өсүш: 3.6мм/он жылдыкта",
        precipitation_seasonal_distribution: "Жаан-чачындын мезгилдик бөлүштүрүлүшү:",
        precipitation_seasonal_winter: "Кышында бир аз көбөйүү",
        precipitation_seasonal_spring_summer: "Жазында жана жайында азаюу",
        precipitation_jalal_abad: "Жалал-Абад облусунда жаан-чачындын жылдык тренди 20 мм/10 жылдан ашты",
        precipitation_bazar_korgon: "Базар-Коргон районунда 831 мм жаан-чачын жаады (жылдык норманын 77%)",
        climate_indices_title: "Климаттык индекстер",
        climate_indices_frost: "Аяздуу күндөрдүн санынын азайышы",
        climate_indices_vegetation: "Вегетация мезгилинин узактыгынын көбөйүшү",
        climate_indices_heat: "Ысык күндөрдүн санынын көбөйүшү",
        footer_text: " 2025 Климат бюллетени. Кыргызгидрометтин маалыматтары."
    }
};

function switchLanguage(lang) {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });
    document.documentElement.lang = lang;
}

document.addEventListener('DOMContentLoaded', function() {
    switchLanguage('ru');

    // Add scroll-based fade effect
    window.addEventListener('scroll', function() {
        const scrollPosition = window.pageYOffset;
        const opacity = 1 - (scrollPosition / 100);
        document.body.style.setProperty('--scroll-opacity', opacity < 0.3 ? 0.3 : opacity);
    });

    // Global Temperature Chart
    const globalTempCtx = document.getElementById('globalTempChart').getContext('2d');
    new Chart(globalTempCtx, {
        type: 'line',
        data: {
            labels: ['2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
            datasets: [{
                label: 'Global Temperature Anomaly (°C)',
                data: [0.58, 0.63, 0.76, 0.83, 0.87, 0.90, 0.93, 0.84, 0.84, 0.84, 1.45],
                borderColor: '#0d6efd',
                tension: 0.1,
                fill: true,
                backgroundColor: 'rgba(13, 110, 253, 0.1)'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top'
                },
                title: {
                    display: true,
                    text: 'Global Temperature Anomalies (1850-1900 baseline)'
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 0.2
                    }
                }
            }
        }
    });

    // Asia Temperature Chart
    const asiaTempCtx = document.getElementById('asiaTempChart').getContext('2d');
    new Chart(asiaTempCtx, {
        type: 'bar',
        data: {
            labels: ['Spring', 'Summer', 'Autumn', 'Winter'],
            datasets: [{
                label: 'Temperature Increase Rate (°C/decade)',
                data: [0.59, 0.15, 0.15, 0.21],
                backgroundColor: '#198754',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top'
                },
                title: {
                    display: true,
                    text: 'Seasonal Temperature Increase Rates in Asia'
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 0.1
                    }
                }
            }
        }
    });

    // Kyrgyzstan Temperature Chart
    const kyrgyzTempCtx = document.getElementById('kyrgyzTempChart').getContext('2d');
    new Chart(kyrgyzTempCtx, {
        type: 'line',
        data: {
            labels: ['1970', '1980', '1990', '2000', '2010', '2020', '2023'],
            datasets: [{
                label: 'Temperature Anomaly (°C)',
                data: [-0.1, -0.05, 0.1, 0.3, 0.5, 0.8, 1.94],
                borderColor: '#ffc107',
                tension: 0.1,
                fill: true,
                backgroundColor: 'rgba(252, 185, 0, 0.1)'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top'
                },
                title: {
                    display: true,
                    text: 'Temperature Anomalies in Kyrgyzstan (1961-1990 baseline)'
                }
            },
            scales: {
                y: {
                    beginAtZero: false,
                    ticks: {
                        stepSize: 0.5
                    }
                }
            }
        }
    });
});
